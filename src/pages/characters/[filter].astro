---
import Base from "../../components/Base.astro";
import Teasers from "../../components/Teasers.astro";
import Filters from "../../components/Filters.astro";

import { CollectionEntry, getCollection } from "astro:content";

export async function getStaticPaths() {
  const filters = await getCollection("filters");
  const paths = filters.map((filter) => ({
    params: { filter: filter.slug },
    props: filter,
  }));
  return paths;
}

const filter = Astro.props;
---

<Base title={`Filter: ${filter.data.name}`}>
	<main id="list">
		<Filters filter={filter} />
		<Teasers filter={filter} />
	</main>
  <p class="hint">
    Navigating between the filters, will only replace the element <code>#list</code>.<br>
    Clicking on one of the characters will only replace the element <code>#overlay</code>
  </p>
	<div id="overlay"><!-- the placeholder for the overlay --></div>
</Base>

